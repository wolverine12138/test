<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="我在建立静态博客时都遇到了什么, YJM, YJM OpenSrc">
    <meta name="description" content="。。。">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>我在建立静态博客时都遇到了什么 | YJM OpenSrc</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">YJM OpenSrc</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">YJM OpenSrc</div>
        <div class="logo-desc">
            
            。。。
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/18.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">我在建立静态博客时都遇到了什么</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Hexo/">
                                <span class="chip bg-color">Hexo</span>
                            </a>
                        
                            <a href="/tags/Blog/">
                                <span class="chip bg-color">Blog</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Hexo/" class="post-category">
                                Hexo
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-02-09
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2020-02-16
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    6.4k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    25 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <blockquote>
<ul>
<li>为了让我第一个有意义的域名有意义，我决定折腾一个自己的博客，也是记录下我自己的踩坑经历。</li>
<li>五块钱买的域名和一整套免费的服务让我找到了Hexo的组织，使用Hexo + Coding + GitHub，这样的访问速度无论在哪都让人安逸。</li>
<li>踩坑都在意料之中，填坑也没那么喜出望外，搞完这些也没觉得学习了些啥，不过嘛，人生在于折腾！</li>
</ul>
</blockquote>
<h1 id="配环境"><a href="#配环境" class="headerlink" title="配环境"></a>配环境</h1><hr>
<p>前面都是基操，安装Node.js 、npm 、Hexo什么的，初始化之后就可以在本地看到Hexo原味主题landscape的页面了。然后把这个页面模板挂到coding上去，coding有个静态页面的服务，部署后就OK了。</p>
<blockquote>
<p>PS：以前叫Pages服务，现在已经改名了，顺带一提的是，coding的帮助页面已经移走了，从现在coding的官网进帮助页面，里面的内容才是有效的，不知为何，以前的帮助页面仍然保留了下来，所以百度搜出来的某些 “官方配置教程” 现在已经找不到对应的服务了，里面的内容已经过时了。<br><a href="https://help.coding.net/" target="_blank" rel="noopener">https://help.coding.net/</a><br>这个才是现在官方的、有效的帮助页面。</p>
</blockquote>
<hr>
<h2 id="基操部分"><a href="#基操部分" class="headerlink" title="基操部分"></a>基操部分</h2><hr>
<p>我的环境均为win10，先安装Node.js</p>
<blockquote>
<ol>
<li><a href="https://github.com/jasongin/nvs/" target="_blank" rel="noopener">https://github.com/jasongin/nvs/</a>   NVS安装</li>
<li><a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">https://nodejs.org/en/download/</a>   官网安装</li>
</ol>
</blockquote>
<p>然后就可以用npm了，以下是在git bash命令行里操作的</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> -g hexo-cli</code></pre>
<blockquote>
<p>PS：Hexo官网说安装完之后，可以使用以下两种方式执行Hexo：</p>
<ol>
<li><code>npx hexo &lt;command&gt;</code></li>
<li>将Hexo所在的目录下的<code>node_modules</code>添加到环境变量之中即可直接使用<code>hexo &lt;command&gt;</code>：<pre class=" language-bash"><code class="language-bash"><span class="token keyword">echo</span> <span class="token string">'PATH="<span class="token variable">$PATH</span>:./node_modules/.bin"'</span> <span class="token operator">>></span> ~/.profile</code></pre>
然而我一开始还是第一种办法<code>npx hexo &lt;command&gt;</code>尝试成功与否，后来就能直接<code>hexo &lt;command&gt;</code>的去用了，也没别的操作就直接可以了……</li>
</ol>
</blockquote>
<p>然后就可以进行初始化了！找一个空文件夹，在里面打开git bash：</p>
<pre class=" language-bash"><code class="language-bash">$ hexo init
$ <span class="token function">npm</span> <span class="token function">install</span></code></pre>
<p>或者：</p>
<pre class=" language-bash"><code class="language-bash">$ hexo init <span class="token operator">&lt;</span>folder<span class="token operator">></span>
$ <span class="token function">cd</span> <span class="token operator">&lt;</span>folder<span class="token operator">></span>
$ <span class="token function">npm</span> <span class="token function">install</span></code></pre>
<p>完成之后，就会出现这样的目录结构：</p>
<pre><code>.
├── _config.yml   //网站配置信息文件，可以在此配置大部分参数，以及插件的参数
├── package.json  //应用程序的信息，可以在此看到你安装的插件或你的依赖
├── scaffolds     //模板文件夹，修改其中的内容后，每次新建的文章或其它的什么都会包含这个修改
├── source        //资源文件夹
|   ├── _drafts
|   └── _posts
└── themes        //主题，默认的有一个landscape主题文件夹</code></pre><p>现在只需要改一下<code>_config.yml</code>里的theme配置：</p>
<pre><code>theme: landscape</code></pre><p>在<code>hexo init</code>的文件夹下git bash，运行三连命令：</p>
<pre><code>$ hexo clean
$ hexo g
$ hexo s</code></pre><p>然后按照提示就可以在 localhost:4000 的链接地址里看到页面效果了。此时要部署到coding上还需要在coding下新建代码仓库，设置部署ssh，然后复制这个项目的git地址，如图：<br><img src="ssh_git.png" alt="ssh git 地址"><br>然后在<code>_config.yml</code>里面修改部署配置：</p>
<pre><code>deploy:
  type: git
  repository: git@e.coding.net:……//上面复制的git地址
  branch: master                 //部署到的分支，与coding静态页面配置的触发机制要一致</code></pre><p>如果想同时挂到GitHub，这里的部署配置可以改为：</p>
<pre><code>repository:          //或者为repo: 
  coding: git@…………
  github: git@…………</code></pre><p>这里以<code>git@…………</code>的形式部署的都是用SSH方式部署，有关SSH设置的部分见@@@@。做完这些以后就可以部署了，三连命令又多了一个：</p>
<pre class=" language-bash"><code class="language-bash">$ hexo d</code></pre>
<p>这样，如果你绑定了自己的域名，就可以在自己的域名看到你做的网页了，安逸。</p>
<hr>
<h2 id="自定义部分"><a href="#自定义部分" class="headerlink" title="自定义部分"></a>自定义部分</h2><hr>
<blockquote>
<ul>
<li>虽然我觉得landscape主题其实挺好看的，而且也确实不错，但是未免显得自己太low，于是换主题成了必需步骤，我选择的主题的原版是<a href="https://github.com/Huxpro/huxpro.github.io" target="_blank" rel="noopener">Hux Blog</a>，不过这个不是用Hexo做的，被kaijun用Hexo移植，后又经YuHsuan更改并改名叫BeanTech，被推到了Hexo官方主题推荐上，挺靠前的，被我相中了 ：）</li>
<li>但是问题在于用Hexo做的几个兄弟都已经不再维护这个主题了，就导致里面很多插件都过时了，或者存在一些小问题，不过无碍，这个主题风格的整体设计盖过了这些小瑕疵，我觉得这个设计比Next强多了 ：）</li>
</ul>
</blockquote>
<p>   用这个主题首先的问题是，你git下来的文件夹目录，<strong>本身就是一个初始化后的完整Hexo目录，不是那种主题文件夹</strong>，所以你要是把这个目录放到自己init后的目录下的<code>themes</code>里面，你无论如何也得不到正常的网页，所以，挑完主题<code>git clone</code>以后先看看这个<strong>目录结构</strong>，这样就很稳。<br>   git下来之后在目录第一层下执行<code>npm install</code>安装所需要的依赖，这里对于网络要求其实不高，有网速就行，不需要加BUFF。可能过程中有些小问题，后面再说。<br>   这个git下来的目录第一层下有个<code>_config.yml</code>，这里的配置是接下来重点关注的地方。先修改这里的<strong>theme</strong>，看看这里的配置与目录下<code>themes</code>文件夹里的主题文件夹名是否相同，若不同，按后者修改。然后修改<code>_config.yml</code>里的<strong>deploy</strong>配置，与上文相同。然后<code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code>三连应该就可以看到目标网页了！当然也可以先<code>hexo s</code>在本地先试试。</p>
<hr>
<h2 id="修改网页参数以及部分模板"><a href="#修改网页参数以及部分模板" class="headerlink" title="修改网页参数以及部分模板"></a>修改网页参数以及部分模板</h2><hr>
<p>后续补充。</p>
<hr>
<h1 id="亿点点小问题"><a href="#亿点点小问题" class="headerlink" title="亿点点小问题"></a>亿点点小问题</h1><hr>
<blockquote>
<p>踩坑、填坑记录。</p>
</blockquote>
<hr>
<h2 id="npm-安装依赖问题"><a href="#npm-安装依赖问题" class="headerlink" title="npm 安装依赖问题"></a>npm 安装依赖问题</h2><hr>
<p>首先网速可能会出问题，但是一般情况都OK，不行就换热点，这里其实不用加BUFF。能顺利去下载插件以后，就迎来了各种奇妙的小问题们。<br>在下面的内容中，插件、依赖、包、软件包，在某种意义上讲，它们是相同的东西。</p>
<blockquote>
<p>npm相关操作，请参阅<a href="https://www.npmjs.cn/" target="_blank" rel="noopener">npm中文文档</a></p>
</blockquote>
<h3 id="各种-WARN-deprecated"><a href="#各种-WARN-deprecated" class="headerlink" title="各种 WARN deprecated"></a>各种 WARN deprecated</h3><hr>
<p>安装过程中，如果你的主题长时间没有人维护（比如我这个，Hexo移植版就没人管），那么很大概率在执行<code>npm install</code>时遇到这样的情况（这里仅作示范，我原来的警告已经出不来了）：</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> WARN deprecated core-js@1.2.7: core-js@<span class="token operator">&lt;</span>2.6.8 is no longer maintained. Please, upgrade to core-js@3 or at least to actual version of core-js@2</code></pre>
<p><strong>deprecated</strong>是被废弃的意思，由于时间太久，你所使用的主题所需要的<strong>某个版本的依赖</strong>可能已经做出重大更新以至于必须装某一版，又或是可能已经被移到另一个名字的依赖下，又或是可能已经被删除不用，又或是你安装不了（平台不符），又或是由于前面种种可能原因而导致的某个前置依赖没有安装，等等。这些都会导致出现这样的<code>npm WARN deprecated ******</code>的提示，而由<a href="https://www.npmjs.cn/" target="_blank" rel="noopener">npm中文文档</a>得知，如果你是某个包的所有者，你可以通过<code>npm deprecate &lt;pkg&gt;[@&lt;version&gt;] &lt;message&gt;</code>去更新npm注册表中指定包所对应的数据条目，为尝试安装它的所有人提示版本作废的警告信息。<br>这个时候我们的选择有这样几种：</p>
<ul>
<li><ol>
<li>依照提示，需要升级的就升级，要把某个插件升级到指定版本，可以使用这样的命令：<pre class=" language-bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> <span class="token operator">&lt;</span>pkg<span class="token operator">></span>@<span class="token operator">&lt;</span>version<span class="token operator">></span><span class="token punctuation">[</span>--save<span class="token punctuation">]</span></code></pre>
</li>
</ol>
</li>
<li>若不指定版本，则默认更新到最新版（latest），install 可以简写为 i 。在npm中文文档中对于这里的安装指令的flag有着更多的解释，具体以其为准，我这里的可能已经过时了。<code>--save</code>表示将这个包及其版本号添加到<code>package.json</code>或<code>package-lock.json</code>里的依赖配置中，在npm中文文档中对此也有着新的解释。</li>
<li>又或者使用：<pre class=" language-bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> <span class="token operator">&lt;</span>pkg<span class="token operator">></span>@latest  //更新到最新版</code></pre>
</li>
<li>不过更新到最新版的命令最好慎用，新版本有没有新的未知未解决的BUG谁也不知道，如果你不想做先驱者，可以选前者，按照命令行给的提示安装固定版本的插件。</li>
<li><ol start="2">
<li>按照提示需要安装别的什么前置插件，或者是此插件已经被移到别的插件下、需要安装后者，这样的情况就安装新插件就好了，方法同上。</li>
</ol>
</li>
<li><ol start="3">
<li>对于某些提示：此插件（包）的某个功能被去掉，此插件已经不再存在，等类似提示，可直接忽略，或者把这条依赖在应用程序信息文件<code>package.json</code>中直接删掉，反正不存在了你怎么也用不了，直接删了就行。</li>
</ol>
</li>
<li><ol start="4">
<li>有这样一条命令：<pre class=" language-bash"><code class="language-bash">$ <span class="token function">npm</span> update <span class="token punctuation">[</span>-g<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>pkg<span class="token operator">></span><span class="token punctuation">..</span>.<span class="token punctuation">]</span>  //更新包</code></pre>
</li>
</ol>
</li>
<li><code>-g</code>是全局的意思（global），如果你添加了这个flag，并且后面没有指定包名，那么<code>package.json</code>将会被修改，并保存所有依赖最低所需的新版本（从<a href="mailto:npm@5.0.0" target="_blank" rel="noopener">npm@5.0.0</a>开始）。update 也可以简写为up或另写为upgrade 。其他情况见npm中文文档。不过这个命令也是要慎用，有些不需要更新的包保留即可，我们只要把报错与警告全部解决就行，没必要全都升级。</li>
</ul>
<h3 id="npm-ERROR"><a href="#npm-ERROR" class="headerlink" title="npm ERROR"></a>npm ERROR</h3><hr>
<p>这个情况挺多的，我遇到的只是某个重要依赖没有安装或者运行后续安装脚本（postinstall script）失败，按照上面的步骤安了就行了，其他的按照提示来吧，npm给的提示还是挺全的。ERROR属于必须解决的内容。</p>
<h3 id="npm-WARN-SKIPPING-OPTIONAL-DEPENDENCY"><a href="#npm-WARN-SKIPPING-OPTIONAL-DEPENDENCY" class="headerlink" title="npm WARN  SKIPPING OPTIONAL DEPENDENCY"></a>npm WARN  SKIPPING OPTIONAL DEPENDENCY</h3><hr>
<p>这个意思是选择性跳过的依赖没有安装从而带来的警告，这个我不知道有没有其它的可能性，但是我这里出现的情况，是因为平台不符而导致的，具体如下：</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.11 <span class="token punctuation">(</span>node_modules\fsevents<span class="token punctuation">)</span>:
<span class="token function">npm</span> WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="token keyword">for</span> fsevents@1.2.11: wanted <span class="token punctuation">{</span><span class="token string">"os"</span><span class="token keyword">:</span><span class="token string">"darwin"</span>,<span class="token string">"arch"</span><span class="token keyword">:</span><span class="token string">"any"</span><span class="token punctuation">}</span> <span class="token punctuation">(</span>current: <span class="token punctuation">{</span><span class="token string">"os"</span><span class="token keyword">:</span><span class="token string">"win32"</span>,<span class="token string">"arch"</span><span class="token keyword">:</span><span class="token string">"x64"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">npm</span> WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.2 <span class="token punctuation">(</span>node_modules\hexo-deployer-git\node_modules\fsevents<span class="token punctuation">)</span>:
<span class="token function">npm</span> WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="token keyword">for</span> fsevents@2.1.2: wanted <span class="token punctuation">{</span><span class="token string">"os"</span><span class="token keyword">:</span><span class="token string">"darwin"</span>,<span class="token string">"arch"</span><span class="token keyword">:</span><span class="token string">"any"</span><span class="token punctuation">}</span> <span class="token punctuation">(</span>current: <span class="token punctuation">{</span><span class="token string">"os"</span><span class="token keyword">:</span><span class="token string">"win32"</span>,<span class="token string">"arch"</span><span class="token keyword">:</span><span class="token string">"x64"</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>我这里出现这些的原因是，这些都是macOS上的包，我是win10环境，当然安装不了，具体带来了什么影响我也不知道，因为我到现在也没看出来，所以这几个警告实际可以忽略，如果你不想看到它们，你也可以在它们被配置的地方，把它们删掉，这个操作挺麻烦的，我懒得做就一直带着这些警告了。</p>
<h3 id="vulnerabilities-high、low、moderate-（重要）"><a href="#vulnerabilities-high、low、moderate-（重要）" class="headerlink" title="vulnerabilities(high、low、moderate)（重要）"></a>vulnerabilities(high、low、moderate)（重要）</h3><hr>
<p>vulnerability是漏洞的意思，这个提示有点类似系统漏洞，甚至解决办法也有点类似（按以前对于电脑管家提示的系统漏洞我们的态度，不管就是了，高危漏洞也不管 ）。<br>当然我们怎么可能放着漏洞不去解决呢，而且npm还给出了操作建议：</p>
<pre class=" language-bash"><code class="language-bash">found 4 vulnerabilities <span class="token punctuation">(</span>1 low, 3 high<span class="token punctuation">)</span>
  run <span class="token variable"><span class="token variable">`</span><span class="token function">npm</span> audit fix<span class="token variable">`</span></span> to fix them, or <span class="token variable"><span class="token variable">`</span><span class="token function">npm</span> audit<span class="token variable">`</span></span> <span class="token keyword">for</span> details</code></pre>
<p>audit是审查的意思，前面这个指令应该是自动修复的意思，带有可能性，你有不小的概率执行完，仍然解决不了问题，然后遇到npm给的新的建议：</p>
<pre class=" language-bash"><code class="language-bash">fixed 0 of 4 vulnerabilities <span class="token keyword">in</span> 7193 scanned packages
  4 vulnerabilities required manual review and could not be updated</code></pre>
<p>这是让你人工解决了，自动修复也无能为力。当然在执行完<code>npm audit fix</code>你还可能会遇到这样的提示：“问题没解决，不过你可以使用<code>npm audit fix --force</code>进行尝试。”这是让你执行强制修复命令试试，到这一步，我的建议是绝对别用这个强制命令，执行完直接报错ERROR的可能性非常大，反正我一直是执行完直接报错的。<br>遇到这个漏洞问题，最好是执行<code>npm audit</code>进行漏洞审查，此时命令行会给出一个报告，具体说明漏洞详情，如下所示：</p>
<pre class=" language-bash"><code class="language-bash">                       <span class="token operator">==</span><span class="token operator">=</span> <span class="token function">npm</span> audit security report <span class="token operator">==</span><span class="token operator">=</span>
                                 Manual Review
             Some vulnerabilities require your attention to resolve
          Visit https://go.npm.me/audit-guide <span class="token keyword">for</span> additional guidance
  Low             Prototype Pollution
  Package         lodash
  Patched <span class="token keyword">in</span>      <span class="token operator">>=</span>4.17.5
  Dependency of   hexo-toc
  Path            hexo-toc <span class="token operator">></span> cheerio <span class="token operator">></span> lodash
  More info       https://npmjs.com/advisories/577

  High            Prototype Pollution
  Package         lodash
  Patched <span class="token keyword">in</span>      <span class="token operator">>=</span>4.17.11
  Dependency of   hexo-toc
  Path            hexo-toc <span class="token operator">></span> cheerio <span class="token operator">></span> lodash
  More info       https://npmjs.com/advisories/782</code></pre>
<p>这里我只截取了一部分，可以看到npm audit提供的报告还是很详细的。我这里原因是<strong>原型污染漏洞</strong>，因为这个漏洞的存在，攻击者可以使我的web应用程序崩溃或改变行为（如数据丢失、服务中断、对敏感信息的未授权访问或其他问题），<a href="https://docs.npmjs.com/auditing-package-dependencies-for-security-vulnerabilities" target="_blank" rel="noopener">npm文档（auditing-package-dependencies-for-security-vulnerabilities）</a>对问题描述与解决办法有着更详尽的说明。当然，这要求攻击者熟悉每个web应用程序的工作方式，并且能够修改JavaScript对象原型。我这连访问量都特么没有，谁来攻击我，所以其实可以忽略。<br>有的情况下，在报告开头处，会给出一个建议的解决办法，比如建议你执行哪条命令去安装个什么，有这样的建议命令最好就执行一下，一般可以解决其中的几个漏洞。如题所示。<br><img src="npm_recommended_commands.png" alt="npm recommended commands"><br>如果没有解决，或者这几个漏洞也没有给出建议解决办法，比如我这个情况，那么就根据报告，发现其实是包的版本太低所导致的，这里就引出了如何更新指定位置包的问题，例如上文显示的<code>lodash</code>包，如果你直接使用<code>npm install lodash@4.17.11 --save</code>命令去安装指定版本的包，你会发现你其实并没有装到那个目录下，比如按照audit报告你需要安装到<code>hexo-toc &gt; cheerio &gt; lodash</code>下，但是你其实装到了<code>hexo-toc</code>下，并且在hexo-toc目录下的<code>package.json</code>或<code>package-lock.json</code>下还添加了新的依赖配置（由–save这个flag所导致的），这时在命令行里执行：</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">npm</span> list lodash</code></pre>
<p>你就可以看到这个包的完整安装情况，list可以简写为 ls 或 la 或 ll 。如图所示：<br><img src="npm_list_lodash.png" alt="npm list lodash"><br>这里依赖后跟的<strong>deduped、extraneous、missing或invalid</strong>分别是指<strong>重复数据可删除、无关软件包（未在父软件包的依赖项列表中列出）、软件包丢失、软件包无效</strong>，对于deduped软件包，可以使用如下的命令示例进行简化软件包树：<br><img src="npm_dedupe.png" alt="npm dedupe"><br>对于extraneous软件包，可以使用<code>npm prune [[&lt;@scope&gt;/]&lt;pkg&gt;...] [--production] [--dry-run] [--json]</code>去移除无关软件包，具体说明见<a href="https://docs.npmjs.com/cli-commands/prune.html" target="_blank" rel="noopener">npm prune</a>。当然，deduped与extraneous软件包并不会影响正常使用，你其实不管也是可以的。<br>而对于missing与invalid的处理就不能不管了，missing软件包是指你的依赖项列表中包含，但是父目录下的<code>node_modules</code>文件夹下却没有这个软件包，一般情况是你直接找到了这个包，然后把它删了，就会出现这种情况，这时我们只需要在命令行里执行<code>npm install</code>即可重新安装。对于invalid的软件包，你可以找到文件位置，把这个包的文件夹删了，然后执行上述步骤即可。<br>那么我们既然已经知道直接执行<code>npm install &lt;pkg&gt;@&lt;version&gt;</code>不行，那么要如何解决呢？这时，我们就需要更改所有不符合版本要求的子软件包的父软件包的依赖项列表中所配置的对应子软件包版本号，又或干脆在依赖项列表中删去子软件包，如下所示：</p>
<pre><code>{
  &quot;name&quot;: &quot;hexo-site&quot;,
  &quot;version&quot;: &quot;0.0.0&quot;,
  &quot;private&quot;: true,
  &quot;hexo&quot;: {
    &quot;version&quot;: &quot;3.9.0&quot;
  },
  &quot;dependencies&quot;: {
    &quot;@upupming/hexo-renderer-markdown-it-plus&quot;: &quot;^2.0.2&quot;,
    &quot;coffeescript&quot;: &quot;^2.5.1&quot;,
    &quot;core-js&quot;: &quot;^3.6.4&quot;,
    &quot;ejs&quot;: &quot;^3.0.1&quot;,
    &quot;hexo&quot;: &quot;^3.2.0&quot;,
    &quot;hexo-deployer-git&quot;: &quot;^2.1.0&quot;,
    &quot;hexo-generator-archive&quot;: &quot;^0.1.4&quot;,
    &quot;hexo-generator-category&quot;: &quot;^0.1.3&quot;,
    &quot;hexo-generator-index&quot;: &quot;^0.2.0&quot;,
    &quot;hexo-generator-seo-friendly-sitemap&quot;: &quot;0.0.25&quot;,
    &quot;hexo-generator-tag&quot;: &quot;^0.2.0&quot;,
    &quot;hexo-renderer-ejs&quot;: &quot;^0.2.0&quot;,
    &quot;hexo-renderer-stylus&quot;: &quot;^0.3.1&quot;,
    &quot;hexo-server&quot;: &quot;^0.2.0&quot;,
    &quot;hexo-toc&quot;: &quot;^1.1.0&quot;
  }
}</code></pre><p>这是我的博客根目录下的<code>package.json</code>下的代码，dependencies后就是依赖项列表，但是，一般出问题不会出在这些依赖项上，都是这些依赖的子依赖甚至子子依赖会出现问题，这就需要按照npm audit提示目录，例如<code>hexo-toc &gt; cheerio &gt; lodash</code>，在根目录下的<code>node_modules</code>文件夹内找到/hexo-toc/node_modules/cheerio/package.json文件，修改依赖项列表。<br>但是这样做完依旧不行，因为安装某些软件包尤其是子软件包时<strong>–save</strong>的存在，会导致npm将这个软件包添加到根目录下的<code>package-lock.json</code>文件的依赖项列表中，如果你的操作很冗杂，那么这个文件的依赖项列表将会非常的乱，非常的多，需要你全部修改正确。修改完成之后，把之前有问题的软件包文件夹全删了，回到根目录执行:</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span></code></pre>
<p>就可以解决问题，值得一提的是，按照npm audit给出的报告，有软件包的描述地址，这里有软件包的描述与版本更新情况，我们在设置依赖项列表的软件包版本号时，最好是符合最低要求即可，不要追求最新版，原因之前也已经提过。</p>
<h3 id="npm-一键解决依赖问题"><a href="#npm-一键解决依赖问题" class="headerlink" title="npm 一键解决依赖问题"></a>npm 一键解决依赖问题</h3><hr>
<p>上述办法的确能解决问题，我也是查了很久才得到这么些个办法，但是，我们说依赖安装产生问题，很多时候其实是我们看了太多教程，进行了太多错误、冗余的操作命令，而导致依赖树逻辑产生问题，如果你不愿意去修改各种文件夹下的<code>package(-lock).json</code>文件，你可以这样去做：</p>
<ul>
<li>回到根目录，保留根目录下的<code>package.json</code>文件</li>
<li>把根目录下的<code>node_modules</code>文件夹和<code>package-lock.json</code>文件都删了</li>
<li>在根目录下重新执行<code>npm install</code><br>这时候如果你有什么误操作，这时候基本都修正了，唯一不会被修正的是，vulnerabilities的版本过低，事实上，我提高了版本以后，反而出现了新的问题，导致我的博客generate都过不了，如图：<br><img src="TypeError_Cannot_read_property_children_of_undefined.png" alt="TypeError:Cannot read property &#39;children&#39; of undefined"><br>我认为这就是版本提升带来的问题，具体是什么我也没搞明白，留待后续补充吧。所以我这里的几个vulnerabilities就没管，问题也不大。<blockquote>
<p>PS：根据 <a href="https://hexo.io/news/" target="_blank" rel="noopener">Hexo官网新闻</a>，我很高兴地看到从最新版的Hexo 4.2起，Hexo已经移除了cheerio与Lodash，并分别用native API与native JaveScript替代，果然我查看了一下我的版本，我是<a href="mailto:hexo@3.9.0" target="_blank" rel="noopener">hexo@3.9.0</a>，hexo-cli@3.1.0，我还在用这些被人家drop了的东西，我活该有vulnerabilities。</p>
</blockquote>
</li>
</ul>
<h3 id="npm-fund"><a href="#npm-fund" class="headerlink" title="npm fund"></a>npm fund</h3><hr>
<p>这个不是啥问题，讲道理，我第一次知道这东西的时候都惊了，这路子真野！</p>
<pre class=" language-bash"><code class="language-bash">………………

up to <span class="token function">date</span> <span class="token keyword">in</span> 27.993s

6 packages are looking <span class="token keyword">for</span> funding
  run <span class="token variable"><span class="token variable">`</span><span class="token function">npm</span> fund<span class="token variable">`</span></span> <span class="token keyword">for</span> details</code></pre>
<p>这是在说有6个软件包（的所有者）在寻求资助。执行<code>npm fund</code>则会以类似audit报告的方式，列出这些软件包，以及资助网站。</p>
<blockquote>
<p>PS：虽然咱是开源，但是大家也行行好吧~</p>
</blockquote>
<p><img src="npm_fund.png" alt="npm fund"><br>安装过程中也会出类似的东西，不过我很纳闷，装这软件包的不都是搬运工们吗？求职发到这来，哪个老板能看到…………</p>
<h2 id="Hexo添加数学公式渲染"><a href="#Hexo添加数学公式渲染" class="headerlink" title="Hexo添加数学公式渲染"></a>Hexo添加数学公式渲染</h2><hr>
<p>讲道理Hexo这东西确实有够自由的，自由==一无所有，这是在让人无法不踩坑。<br>每位博主都会说，“谁写博客还不整点公式呢？”然后开始了添加公式渲染插件教学。<br>对啊！谁写博客还不整点公式呢？？虽然我这第一篇博客是静态网页踩坑记录，但是这不妨碍我这个博客是一个嵌入式、机器人与控制理论专题博客（傻笑），那能离得开数学公式吗？嗯？<br>网上的方法那真是过江之鲫啊，可能是我这个主题有毛病，或者我的操作问题（可能当时我还在解决lodash的问题），反正很多配置Mathjax的方法我这都存在安装问题，最终我还是选择了KaTeX，不过最近网友的评价让我对KaTeX感到欣慰，它已经是能独当一面的渲染方案了！</p>
<ul>
<li>Compare Mathjax VS KaTeX<ul>
<li>Mathjax<ul>
<li>优点<ul>
<li>1.对<code>Latex</code>语法支持全面</li>
<li>2.Next主题对其支持比较好有优化，单行过长时会置于容器内，手机体验良好（可惜我不用）</li>
<li>3.中文不会出现字符警告</li>
</ul>
</li>
<li>缺点<ul>
<li>1.需要页面js加载渲染</li>
<li>2.kramed渲染器对内联公式的转义字符<code>\</code>支持不好</li>
</ul>
</li>
</ul>
</li>
<li>KaTeX<ul>
<li>优点<ul>
<li>1.页面加载极快<a href="https://www.intmath.com/cg5/katex-mathjax-comparison.php" target="_blank" rel="noopener">对比网站</a></li>
<li>2.渲染器效果好，相对于kramed对Mathjax的内联公式</li>
</ul>
</li>
<li>缺点<ul>
<li>1.Next主题对其优化较差，单行过长页面会出现位移（幸亏我不用）</li>
<li>2.渲染.md时，若出现中文字符会弹出大量警告 （我们是在意警告的人嘛）</li>
<li>3.会严重影响Hexo渲染速度（不能说自己太快）<br>看了从网上找的二者比较（括号是我写的），包括据说现在KaTeX大部分符号都支持了，与Mathjax非常接近，再加上KaTeX的加载公式速度明显比Mathjax方式高许多，我就安心的找起了配置KaTeX的方法。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="配置过程"><a href="#配置过程" class="headerlink" title="配置过程"></a>配置过程</h3><hr>
<p>首先，渲染器我们不使用默认的hexo-renderer-marked，也不使用hexo-renderer-kramed，也不适用默认加hexo-math插件的方式，这几种都需要更改渲染引擎的js脚本，保证转义字符与数学公式的渲染不会出现混乱。我尝试了但没有成功（后来觉得应该是没添加cdn的原因），不论如何，我现在的情况就挺不错。</p>
<ul>
<li>卸载默认渲染器hexo-renderer-marked并修改依赖项列表<pre class=" language-bash"><code class="language-bash">$ <span class="token function">npm</span> uninstall hexo-renderer-marked --save</code></pre>
</li>
<li>安装新的渲染器<strong>hexo-renderer-markdown-it-plus</strong>，但是这东西又没人维护了，所以我们使用 @upupming/hexo-renderer-markdown-it-plus。这份 fork 的代码使用了@neilsustc/markdown-it-katex（<em>事实上我发现这个也不是neilsustc本人的repo，而是yzhang-gh从waylonflinn那里fork来的，最近还在维护，KeTaX的版本更新到0.10.0，而官方KeTaX版本已经到了0.11.1，暂时还没什么影响，我还没具体开始写数学公式</em>），同时它也是 VSCode 的插件 <a href="https://github.com/yzhang-gh/vscode-markdown" target="_blank" rel="noopener">Markdown All in One</a>所使用的（这个all in one就是yzhang-gh做的），所以我们可以获得新的 KaTex 功能例如 \tag{}。<pre class=" language-bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> @upupming/hexo-renderer-markdown-it-plus --save</code></pre>
</li>
<li>然后修改<code>_config.yml</code>，增加数学公式配置：<pre><code>math:
#engine: mathjax
engine: katex
</code></pre></li>
</ul>
<h1 id="Markdown-it-plus-config"><a href="#Markdown-it-plus-config" class="headerlink" title="Markdown-it-plus config"></a>Markdown-it-plus config</h1><p>markdown_it_plus:<br>  highlight: true<br>  html: true<br>  xhtmlOut: false<br>  breaks: true<br>  langPrefix:<br>  linkify: true<br>  typographer:<br>  quotes: “”‘’<br>  pre_class: highlight<br>  plugins:<br>    - plugin:<br>      name: ‘@neilsustc/markdown-it-katex’<br>      enable: true<br>      options:<br>        strict: false</p>
<pre><code>然后添加CDN，这里正确做法是找到根目录下`node_modules`下`@neilsustc/markdown-it-katex`的README，因为从markdown-it-plus 2.0.0开始，以[markdown-it-katex](https://github.com/yzhang-gh/markdown-it-katex)为数学公式渲染引擎，东西得配套嘛，CDN也得照这个来。在这个README下我们可以看到：
* Use it in your javascript
```javascript
var md = require(&#39;markdown-it&#39;)(),
    mk = require(&#39;@neilsustc/markdown-it-katex&#39;);

md.use(mk);

// double backslash is required for javascript strings, but not html input
var result = md.render(&#39;# Math Rulez! \n  $\\sqrt{3x-1}+(1+x)^2$&#39;);</code></pre><ul>
<li>Include the KaTeX stylesheet in your html:<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/katex@0.10.0-alpha/dist/katex.min.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
</li>
<li>If you’re using the default markdown-it parser, I also recommend the <a href="https://github.com/sindresorhus/github-markdown-css" target="_blank" rel="noopener">github stylesheet</a>:<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></code></pre>
<blockquote>
<p>照这个来，把所说的stylesheet这一条代码，加到主题目录下的<code>/layout/_partial/head.ejs</code>内即可。</p>
</blockquote>
</li>
</ul>
<p>这里我参照了我根目录下<code>node_modules</code>下的一个依赖<code>katex</code>，这个是官方软件包，我这里版本为0.10.2，与上面的区别不大，可能有影响，但目前我还没遇到。这里的README提供了更为完整的一个template：</p>
<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token comment" spellcheck="true">&lt;!-- KaTeX requires the use of the HTML5 doctype. Without it, KaTeX may not render properly --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css<span class="token punctuation">"</span></span> <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j<span class="token punctuation">"</span></span> <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>anonymous<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

    <span class="token comment" spellcheck="true">&lt;!-- The loading of KaTeX is deferred to speed up page rendering --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">defer</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js<span class="token punctuation">"</span></span> <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ<span class="token punctuation">"</span></span> <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>anonymous<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

    <span class="token comment" spellcheck="true">&lt;!-- To automatically render math in text elements, include the auto-render extension: --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">defer</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js<span class="token punctuation">"</span></span> <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI<span class="token punctuation">"</span></span> <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>anonymous<span class="token punctuation">"</span></span>
        <span class="token attr-name">onload</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>renderMathInElement(document.body);<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>
<p>如果想要加入自动渲染扩展，可以参考<a href="https://katex.org/docs/autorender.html" target="_blank" rel="noopener">Auto-render Extension</a>。</p>
<blockquote>
<p>到这里数学公式渲染插件就添加完毕了，下面是一个简单的测试，如果我遇到了问题，我还会再来补充配置办法的。</p>
</blockquote>
<p>转义及数学公式测试<br>$ hh $ hh  $$ hh $$<br>$<br>$$<br>$$<br>f(x) = \int_{-\infty}^{\infty}\hat f(\xi),e^{2\pi i \xi x},d\xi<br>$$</p>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">YJM</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://www.yjm-opensrc.xyz/2020/02/09/wo-zai-jian-li-jing-tai-bo-ke-shi-du-yu-dao-liao-shi-me/">https://www.yjm-opensrc.xyz/2020/02/09/wo-zai-jian-li-jing-tai-bo-ke-shi-du-yu-dao-liao-shi-me/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">YJM</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Hexo/">
                                    <span class="chip bg-color">Hexo</span>
                                </a>
                            
                                <a href="/tags/Blog/">
                                    <span class="chip bg-color">Blog</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.png" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechatpay.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/02/16/wo-zai-jian-li-jing-tai-bo-ke-shi-du-yu-dao-liao-shi-me-er/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/15.jpg" class="responsive-img" alt="我在建立静态博客时都遇到了什么（二）">
                        
                        <span class="card-title">我在建立静态博客时都遇到了什么（二）</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            

搭好环境后其实已经可以开始写作了，但总会遇到新的小毛病或者又想添加新的插件，这一篇就是对后续内容的补充，不定期更新。
现在想要添加的是对ssh公钥配置、转义字符与数学公式渲染的彻底解决、hexo server为什么要重设端口、网页模板的
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-02-16
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Hexo/" class="post-category">
                                    Hexo
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Hexo/">
                        <span class="chip bg-color">Hexo</span>
                    </a>
                    
                    <a href="/tags/Blog/">
                        <span class="chip bg-color">Blog</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/02/09/hexo-theme-beantech/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/1.jpg" class="responsive-img" alt="[Hexo] Theme BeanTech">
                        
                        <span class="card-title">[Hexo] Theme BeanTech</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
这是原主题移植者的Readme，这里保留下来，有需要的自行取用。
Ported Theme of Hux Blog, Thank Huxpro for designing such a flawless theme.This BeanTe
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-02-09
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Hexo/" class="post-category">
                                    Hexo
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Hexo/">
                        <span class="chip bg-color">Hexo</span>
                    </a>
                    
                    <a href="/tags/Blog/">
                        <span class="chip bg-color">Blog</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: YJM OpenSrc<br />'
            + '文章作者: YJM<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2020</span>
            <a href="/about" target="_blank">YJM</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">16.1k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/wolverine12138" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:yuscut2020@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=852501203" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 852501203" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
